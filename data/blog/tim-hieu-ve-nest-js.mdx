---
title: 'NestJS: TÄƒng cÆ°á»ng kiáº¿n thá»©c vÃ  á»©ng dá»¥ng trong phÃ¡t triá»ƒn á»©ng dá»¥ng Node.js'
date: '2024-06-09'
lastmod: '2024-06-09'
thumbnail: '/static/images/nest.avif'
tags: ['nest-js', 'mongo-db']
draft: false
summary: 'BÃ i viáº¿t nÃ y nháº¥n máº¡nh vá» viá»‡c hiá»ƒu rÃµ cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a Nest.js trong phÃ¡t triá»ƒn á»©ng dá»¥ng Node.js. ChÃºng ta sáº½ khÃ¡m phÃ¡ cÃ¡ch xÃ¢y dá»±ng má»™t á»©ng dá»¥ng cÃ³ cáº¥u trÃºc rÃµ rÃ ng, cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng cao, dá»… kiá»ƒm thá»­ vÃ  báº£o trÃ¬.'
images: ['/static/images/banner.png']
---

## Giá»›i thiá»‡u

Äá»‘i vá»›i ngÆ°á»i má»›i báº¯t Ä‘áº§u hoáº·c nhá»¯ng ngÆ°á»i muá»‘n nÃ¢ng cao ká»¹ nÄƒng cá»§a mÃ¬nh trong phÃ¡t triá»ƒn á»©ng dá»¥ng Node.js, NestJS lÃ  má»™t lá»±a chá»n Ä‘Ã¡ng chÃº Ã½. NestJS lÃ  má»™t framework Node.js máº¡nh máº½, dá»±a trÃªn TypeScript, Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng server-side hiá»‡u quáº£, dá»… báº£o trÃ¬ vÃ  dá»… má»Ÿ rá»™ng

<TOCInline toc={props.toc} exclude="Introduction" />

## Nestjs lÃ  gÃ¬?

Nest.js lÃ  má»™t framework trong Node.js Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ phÃ¡t triá»ƒn á»©ng dá»¥ng server-side má»™t cÃ¡ch hiá»‡u quáº£ vÃ  cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng. Vá»›i viá»‡c há»— trá»£ cáº£ TypeScript vÃ  JavaScript, Nest.js mang láº¡i nhiá»u lá»£i Ã­ch vá» tÃ­nh rÃµ rÃ ng, hiá»‡u suáº¥t vÃ  báº£o trÃ¬.

Má»™t Ä‘iá»ƒm ná»•i báº­t cá»§a Nest.js lÃ  sá»± káº¿t há»£p cá»§a cÃ¡c phong cÃ¡ch láº­p trÃ¬nh nhÆ° OOP (Object-Oriented Programming), FP (Functional Programming), vÃ  FRP (Functional Reactive Programming). ÄÆ°á»£c láº¥y cáº£m há»©ng tá»« kiáº¿n trÃºc cá»§a Angular, Nest.js táº¡o ra má»™t mÃ´i trÆ°á»ng quen thuá»™c cho nhá»¯ng ngÆ°á»i lÃ m viá»‡c vá»›i Angular, giÃºp há» dá»… dÃ ng tiáº¿p cáº­n.

Nest.js cÅ©ng Ä‘áº·c biá»‡t chÃº trá»ng vÃ o viá»‡c xÃ¢y dá»±ng cáº¥u trÃºc dá»± Ã¡n. Framework nÃ y báº¯t buá»™c cÃ¡c nhÃ  phÃ¡t triá»ƒn pháº£i tuÃ¢n thá»§ má»™t kiáº¿n trÃºc cá»¥ thá»ƒ thÃ´ng qua viá»‡c giá»›i thiá»‡u cÃ¡c module, provider, vÃ  controller. Äiá»u nÃ y Ä‘áº£m báº£o ráº±ng á»©ng dá»¥ng Ä‘Æ°á»£c xÃ¢y dá»±ng bá»Ÿi Nest.js cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng cao, dá»… kiá»ƒm thá»­ vÃ  dá»… báº£o trÃ¬. Äiá»u nÃ y nÃªn Ä‘Æ°á»£c tuÃ¢n thá»§ Ä‘á»ƒ Ä‘áº£m báº£o cháº¥t lÆ°á»£ng cá»§a á»©ng dá»¥ng.

## VÃ¬ sao nÃªn sá»­ dá»¥ng Nest.js ?

Má»—i dá»± Ã¡n Ä‘á»u cÃ³ má»™t kiáº¿n trÃºc phÃ¹ há»£p khÃ¡c nhau nhÆ° MVC, kiáº¿n trÃºc thÃ nh pháº§n hoáº·c cÃ¡c kiáº¿n trÃºc khÃ¡c. Vá»›i má»™t nhÃ  phÃ¡t triá»ƒn má»›i lÃ m viá»‡c vá»›i NodeJS thÃ¬ há» sáº½ khÃ´ng cÃ³ tÆ° duy vá» architecture, scable hay maintainable thÃ¬ trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn cÃ³ thá»ƒ gÃ¢y ra viá»‡c táº¡o ra kiáº¿n trÃºc code khÃ´ng cháº¥t lÆ°á»£ng lÃ m xÃ¡o trá»™n dá»± Ã¡n.

â†’ NestJS cung cáº¥p cho chÃºng ta má»™t kiáº¿n trÃºc cá»¥ thá»ƒ vÃ  rÃµ dÃ ng Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y.

## CÃ¡ch Ä‘á»ƒ táº¡o má»™t project Nest.js?

```
$ npm i -g @nestjs/cli
$ nest new project-name // project-name lÃ  tÃªn dá»± Ã¡n cá»§a báº¡n
$ cd project-name
```

Sau khi cÃ i Ä‘áº·t xong, báº¡n sáº½ khá»Ÿi táº¡o Ä‘Æ°á»£c má»™t dá»± Ã¡n nest.js, mÃ¬nh xin giáº£i thÃ­ch Ä‘Ã´i chÃºt vá» má»™t sá»‘ file trong thÆ° má»¥c **src/:**

```
ğŸ“¦src
â”£ ğŸ“œapp.controller.spec.ts
â”£ ğŸ“œapp.controller.ts
â”£ ğŸ“œapp.module.ts
â”£ ğŸ“œapp.service.ts
â”— ğŸ“œmain.ts
```

- **app.controller.spec.ts**: ÄÃ¢y lÃ  nÆ¡i chá»©a cÃ¡c test case Ä‘á»ƒ kiá»ƒm tra cÃ¡c hoáº¡t Ä‘á»™ng cá»§a controller
- **app.controller.ts**: ÄÃ¢y lÃ  nÆ¡i Ä‘á»‹nh nghÄ©a cÃ¡c router Ä‘á»ƒ xá»­ lÃ½ request, chá»©a cÃ¡c API endpoint (GET,POST,PUT,DELETE) vÃ  tráº£ vá» response cho client
- **app.module.ts**: ÄÃ¢y lÃ  module chÃ­nh cá»§a á»©ng dá»¥ng, module nÃ y táº­p há»£p cÃ¡c controller vÃ  service khÃ¡c láº¡i vá»›i nhau. Má»—i á»©ng dá»¥ng Nest.js cáº§n Ã­t nháº¥t má»™t module, vÃ  thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  **root module**
- **app.service.ts**: NÆ¡i chá»©a cÃ¡c logic xá»­ nghiá»‡p vá»¥ mÃ  controller cáº§n dÃ¹ng Ä‘áº¿n
- **main.ts**: ÄÃ¢y lÃ  file khá»Ÿi táº¡o vÃ  cháº¡y á»©ng dá»¥ng Nest.js.File nÃ y bootstraps(khá»Ÿi Ä‘á»™ng) á»©ng dá»¥ng Nest.js báº±ng cÃ¡ch sá»­ dá»¥ng **NestFactory**

Tiáº¿p Ä‘áº¿n, náº¿u báº¡n muá»‘n táº¡o ra má»™t bá»™ tÃ i nguyÃªn thá»±c thá»ƒ hoÃ n chá»‰nh Ä‘á»ƒ quáº£n lÃ½(vÃ­ dá»¥ nhÆ° **user**) theo cáº¥u trÃºc Nest.js, báº¡n sá»­ dá»¥ng cÃ¢u lá»‡nh á»Ÿ phÃ­a dÆ°á»›i:

```
$ nest g resource users // á»Ÿ Ä‘Ã¢y mÃ¬nh vÃ­ dá»¥ lÃ  users
```

Lá»‡nh nÃ y sáº½ táº¡o ra má»™t táº­p há»£p cÃ¡c file vÃ  thÆ° má»¥c cáº§n thiáº¿t Ä‘á»ƒ quáº£n lÃ½ tÃ i nguyÃªn **users** bao gá»“m:

```
ğŸ“¦users
 â”£ ğŸ“‚dto
 â”ƒ â”£ ğŸ“œcreate-user.dto.ts
 â”ƒ â”— ğŸ“œupdate-user.dto.ts
 â”£ ğŸ“‚entities
 â”ƒ â”— ğŸ“œuser.entity.ts
 â”£ ğŸ“œusers.controller.spec.ts
 â”£ ğŸ“œusers.controller.ts
 â”£ ğŸ“œusers.module.ts
 â”£ ğŸ“œusers.service.spec.ts
 â”— ğŸ“œusers.service.ts
```

â†’ Khuyáº¿n khÃ­ch sá»­ dá»¥ng tuÃ¢n theo cáº¥u trÃºc dá»± Ã¡n nhÆ° trÃªn Ä‘á»ƒ luÃ´n giá»¯ mÃ£ sáº¡ch, tÃ¡i sá»­ dá»¥ng, Ä‘á»™c láº­p vÃ  kháº£ nÄƒng tÃ¡i sá»­ dá»¥ng cao

## TÃ¬m hiá»ƒu vá» Module ?

Hiá»ƒu nÃ´m na thÃ¬ module chÃ­nh lÃ  thÃ nh pháº§n nhá» nháº¥t, Ä‘á»©ng Ä‘á»™c láº­p trÃªn website cá»§a chÃºng ta, giÃºp tá»• chá»©c code, tÃ¡i sá»­ dá»¥ng má»™t cÃ¡ch hiá»ƒu quáº£, dá»… dÃ ng test vÃ  maintain.

### Táº¡i sao sá»­ dá»¥ng module trong dá»± Ã¡n lá»›n

- PhÃ¡t triá»ƒn cá»§a cÃ¡c modules cÃ³ thá»ƒ lÃ m Ä‘á»™c láº­p
- On/off modules nÃ y khÃ´ng lÃ m áº£nh hÆ°á»Ÿng Ä‘áº¿n module kia(náº¿u cÃ¡c module khÃ´ng phá»¥ thuá»™c vÃ o nhau)
